macros:
  - name: print_table
    description: |
      Print an agate table result in a formatted table layout.

      This utility macro displays query results in a clean, formatted table with proper alignment and borders.
      Table printing can be disabled via the `audit_helper__print_table_enabled` variable (default: true).
      Table printing is automatically disabled on dbt Cloud.

      Example usage:
      ```sql
      {% raw %}
      {% set result = run_query(some_query) %}
      {{ audit_helper_ext.print_table(
          result=result,
          max_rows=100,
          max_columns=10,
          max_column_width=50
      ) }}
      {% endraw %}
      ```
    arguments:
      - name: result
        type: agate.Table
        description: The agate table result to print
      - name: max_rows
        type: integer
        description: Maximum number of rows to display (default 100)
      - name: max_columns
        type: integer
        description: Maximum number of columns to display (default 10)
      - name: max_column_width
        type: integer
        description: Maximum width for column values, longer values will be truncated (default none)
